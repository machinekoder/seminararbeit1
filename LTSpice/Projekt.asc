Version 4
SHEET 1 4292 680
WIRE 2176 -288 2096 -288
WIRE 2336 -288 2176 -288
WIRE 2464 -288 2336 -288
WIRE 2592 -288 2528 -288
WIRE 2176 -240 2176 -288
WIRE 2336 -240 2336 -288
WIRE 1584 -224 1584 -272
WIRE -64 -208 -64 -224
WIRE 2592 -176 2592 -288
WIRE 2592 -176 2432 -176
WIRE 2592 -160 2592 -176
WIRE 2848 -128 2848 -160
WIRE 1584 -112 1584 -144
WIRE 2080 -112 2016 -112
WIRE 2496 -112 2432 -112
WIRE -64 -96 -64 -128
WIRE 2496 -80 2496 -112
WIRE 2768 -80 2496 -80
WIRE 2496 -48 2496 -80
WIRE 2496 -48 2432 -48
WIRE 2768 -48 2768 -80
WIRE 2800 -48 2768 -48
WIRE 3376 -16 3328 -16
WIRE 3520 -16 3456 -16
WIRE 3568 -16 3520 -16
WIRE 3712 -16 3648 -16
WIRE 3792 -16 3712 -16
WIRE 960 0 400 0
WIRE 2592 0 2592 -96
WIRE 2592 0 2496 0
WIRE 2848 0 2848 -32
WIRE 2848 0 2592 0
WIRE 2960 0 2848 0
WIRE 2496 16 2496 0
WIRE 2496 16 2432 16
WIRE 2848 32 2848 0
WIRE 160 48 80 48
WIRE 3520 48 3520 -16
WIRE 3712 48 3712 -16
WIRE 80 64 80 48
WIRE 160 64 160 48
WIRE 2080 80 2016 80
WIRE 2496 80 2432 80
WIRE 4192 80 4192 16
WIRE 864 96 848 96
WIRE 960 96 960 0
WIRE 960 96 928 96
WIRE 400 112 400 0
WIRE 448 112 400 112
WIRE 544 112 528 112
WIRE 592 112 544 112
WIRE 688 112 672 112
WIRE 2496 112 2496 80
WIRE 2800 112 2496 112
WIRE 0 144 0 128
WIRE 160 144 160 128
WIRE 160 144 80 144
WIRE 2496 144 2496 112
WIRE 2496 144 2432 144
WIRE 3520 160 3520 112
WIRE 3712 160 3712 112
WIRE 80 176 80 144
WIRE 96 176 80 176
WIRE 592 176 592 160
WIRE 80 192 80 176
WIRE 160 192 80 192
WIRE 560 192 480 192
WIRE 912 192 912 176
WIRE 1424 192 1424 176
WIRE 4192 192 4192 160
WIRE 688 208 688 112
WIRE 688 208 624 208
WIRE 736 208 688 208
WIRE 848 208 848 96
WIRE 848 208 816 208
WIRE 880 208 848 208
WIRE 160 224 160 192
WIRE 544 224 544 112
WIRE 560 224 544 224
WIRE 960 224 960 96
WIRE 960 224 944 224
WIRE 1040 224 960 224
WIRE 1392 224 1344 224
WIRE 1600 224 1472 224
WIRE 2336 224 2336 208
WIRE 2528 224 2336 224
WIRE 2848 224 2848 128
WIRE 2848 224 2528 224
WIRE 0 240 0 224
WIRE 880 240 848 240
WIRE 2176 240 2176 208
WIRE 592 256 592 240
WIRE 1392 256 1344 256
WIRE 1600 256 1472 256
WIRE 2528 256 2528 224
WIRE 912 272 912 256
WIRE 848 288 848 240
WIRE 80 304 80 272
WIRE 160 304 160 288
WIRE 160 304 80 304
WIRE 1408 304 1408 288
WIRE 1424 304 1424 288
WIRE 1440 304 1440 288
WIRE 1440 304 1424 304
WIRE 1440 320 1440 304
FLAG 0 128 V+
FLAG 80 48 V+
FLAG 0 240 V-
FLAG 80 304 V-
FLAG 96 176 0
FLAG 592 160 V+
FLAG 592 256 V-
FLAG 912 176 V+
FLAG 912 272 V-
FLAG 848 288 0
FLAG -64 -96 0
FLAG -64 -224 Usignal
FLAG 480 192 0
FLAG 1600 224 VpwmH
FLAG 1040 224 Vtriangle
FLAG 1424 176 V+
FLAG 1344 224 Usignal
FLAG 1600 256 VpwmL
FLAG 2960 0 Vpwmout
FLAG 1440 320 0
FLAG 1408 304 V-
FLAG 1344 256 Vtriangle
FLAG 2016 -112 VpwmH
FLAG 2016 80 VpwmL
FLAG 2176 240 0
FLAG 2528 256 0
FLAG 1584 -112 0
FLAG 1584 -272 V12
FLAG 2096 -288 V12
FLAG 2848 -160 V12
FLAG 3328 -16 Vpwmout
FLAG 3520 160 0
FLAG 3712 160 0
FLAG 4192 192 0
FLAG 3792 -16 Vspeaker
FLAG 4192 16 Vspeaker
SYMBOL sym_pal\ (1)\\voltage 0 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res 64 48 R0
SYMATTR InstName R1
SYMATTR Value 30
SYMBOL res 64 176 R0
SYMATTR InstName R2
SYMATTR Value 30
SYMBOL Opamps\\opamp2 592 144 R0
SYMATTR InstName U1
SYMATTR Value OPA350
SYMBOL res 576 128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 8.2k
SYMBOL res 432 128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 5.1k
SYMBOL res 720 224 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value 1.8k
SYMBOL Opamps\\opamp2 912 160 R0
SYMATTR InstName U2
SYMATTR Value OPA350
SYMBOL cap 864 112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value 2.2n
SYMBOL sym_pal\ (1)\\voltage -64 -224 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value SINE(0 0.5 10k)
SYMBOL cap 144 64 R0
SYMATTR InstName C2
SYMATTR Value 4.7µ
SYMBOL cap 144 224 R0
SYMATTR InstName C3
SYMATTR Value 4.7µ
SYMBOL nmos 2800 -128 R0
SYMATTR InstName M1
SYMATTR Value FDS6612A
SYMBOL nmos 2800 32 R0
SYMATTR InstName M2
SYMATTR Value FDS6612A
SYMBOL Comparators\\LT1016 1424 176 R0
SYMATTR InstName U5
SYMBOL PowerProducts\\LT1160 2256 -32 R0
SYMATTR InstName U3
SYMBOL diode 2464 -272 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL cap 2576 -160 R0
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL sym_pal\ (1)\\voltage 1584 -240 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL ind 3360 0 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 10µ
SYMBOL ind 3552 0 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 10µ
SYMBOL cap 3536 112 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C5
SYMATTR Value 4.7µ
SYMBOL cap 3728 112 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C6
SYMATTR Value 4.7µ
SYMBOL res 4176 64 R0
SYMATTR InstName R6
SYMATTR Value 4
TEXT 672 -32 Left 2 !.include OPA350.mod
TEXT -72 568 Left 2 !.tran 0 700µ 500µ 100n uic
TEXT -104 -352 Left 2 ;wavefile = "gong.wav" chan=0
TEXT -128 376 Left 2 ;Spannungsversorgung
TEXT -128 -24 Left 2 ;Signal
TEXT 368 360 Left 2 ;Dreiecksgenerator 100kHz
TEXT 1224 408 Left 2 ;Komparator - PWM Erzeugung
TEXT 1904 360 Left 2 ;MOSFET Treiber
TEXT 2784 312 Left 2 ;MOSFETs
TEXT 3864 272 Left 2 ;LC-Filter
TEXT 4184 272 Left 2 ;Speaker
RECTANGLE Normal 304 352 -128 0 2
RECTANGLE Normal 304 -48 -128 -384 2
RECTANGLE Normal 1168 336 368 -64 2
RECTANGLE Normal 1728 384 1216 96 2
RECTANGLE Normal 2704 336 1904 -400 2
RECTANGLE Normal 3104 288 2784 -256 2
RECTANGLE Normal 3968 240 3168 -112 2
RECTANGLE Normal 4288 240 4096 -128 2
